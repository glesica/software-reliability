<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>/topics/type-checking [software reliability]</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style>
  pre code {
      background-color: lightgoldenrodyellow;
      border-radius: 1.0rem;
      display: block;
      font-size: 0.8rem;
      padding: 1.0rem;
  }

  pre code.sourceCode {
      background-color: lightgoldenrodyellow;
  }

  code {
      background-color: lightgoldenrodyellow;
      border-radius: 0.3rem;
      padding: 0.1rem 0.2rem;
  }

  figcaption {
      font-size: 0.9rem;
      font-style: italic;
      text-align: center;
  }

  #before {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px solid black;
  }

  #after {
      display: flex;
      justify-content: space-between;
      border-top: 1px solid black;
  }
  </style>
</head>
<body>
<div id="banner">
    <img src="media/header.jpg" alt="Course Header">
</div>
<div id="before">
    Software Reliability and Testing
    <div id="before-links">
        <a href="../.." title="Course Home">Home</a> |
        <a href="https://github.com/glesica/software-reliability" title="Course GitHub Page">GitHub</a>
    </div>
</div>
<h1 id="types">Types</h1>
<p>Static type systems embed additional metadata within the source code of our programs, which can reduce the cognitive overhead of maintenance and refactoring.</p>
<h2 id="introduction">Introduction</h2>
<p>In programming, a type, or data type, is a collection of one or more pieces of data that supports a particular set of operations. For example, an integer type might consist of 32 bits of storage and support addition, subtraction, and other arithmetic operations.</p>
<p>Another way of looking at types is that they give meaning to raw data. For example, say we have the value <code>65</code> stored at some location in memory, what does it represent? It could be a number, or it could be a capital “A” (ASCII character), or it could be interpreted as <code>true</code> (boolean) since it is non-zero. Going a step further, it could be a temperature in celcius, or a distance in miles, or a frequency in hertz.</p>
<p>Of course, the computer itself, the CPU, doesn’t care about types like integers and booleans, and most certainly doesn’t care about celcius or miles. To the computer, there are only strings of binary digits (bits) and the operations that can be performed on them. But that’s why virtually all software, aside from device drivers and the like which need to interface with the hardware directly, is written in high-level programming languages that supply additional abstractions and allow us to add our own.</p>
<p>The meaning behind the value, the type, tells us what we can logically do with it and how we ought to present it to the user. If we interpret <code>65</code> as a boolean, for instance, then negating the value isn’t a very useful thing to do, and would probably represent a programming error. On the other hand, negating a distance in miles might make perfect sense (depending on what we’re doing).</p>
<p>Different programming languages handle types differently. Some require variables, and even literal expressions, to be annotated with their types, others do not. Some will automatically convert data between types when needed, others will not.</p>
<p>Students sometimes lament that statically typed languages like Java are difficult to use. However, this difficulty usually stems from an understandable, but incorrect, belief that types limit what a programmer can do with a language. On the contrary, types allow the programmer to embed a great deal of additional information in the code itself, often with a minimal increase in verbosity.</p>
<p>That being said, there are many ways to implement types in a programming language, and there are many different opinions about what is most productive or effective. The most important thing for programmers is to form opinions from a place of knowledge and understanding rather than habit and prejudice.</p>
<p>To that end, we are going to think a bit about what types are and what they mean, and then explore how several different languages handle types.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>We’re going to use several different tools and languages for this little adventure. I’ve created a Docker image that contains all of them, so you shouldn’t need to install anything additional. However, if you’d like to install things locally, feel free.</p>
<h2 id="types-in-the-world">Types in the World</h2>
<p>Believe it or not, computer science didn’t invent types. In reality, everything in the world can be thought of as belonging to one or more types. In fact, it would only be a little dramatic to say that reality itself is strongly, if not statically, typed.</p>
<p>Think about your intuitive interactions with physical objects. You wouldn’t expect to drink your morning coffee from your phone, and you wouldn’t expect a coffee mug to run Instagram.</p>
<p>This is because you implicitly understand that those objects possess certain capabilities, and lack others. Your phone can’t hold a substantial quantity of liquid, and your coffee mug probably doesn’t have a microprocessor and screen, let alone the necessary software to install and run a social media app.</p>
<p>This is how types work in programming languages as well. Certain data types are useful in certain situations, and not in others.</p>
<p>Let’s look at some code. Open the file <code>examples.js</code>, you can also run it with the command <code>node examples.js</code> (from within the course Docker container). Even though there aren’t any types evident in the source code, they are certainly present. Some of the function invocations do surprising things. Some of them “work” even though they shouldn’t, and some seem like they should cause a crash, but don’t.</p>
<p>These results shouldn’t surprise us because JavaScript uses what is typically called a “weak” type system (the term “weak” is not meant as a pejorative, it is simply descriptive). This means that the language does whatever it can to avoid type errors, even if that means doing implicit conversions that don’t necessarily make a lot of sense.</p>
<p>For example, in JavaScript, the expression <code>"" + null</code> results in the string <code>"null"</code>, not an error as we might have assumed. The inverse is also true, <code>null + ""</code> evaluates to <code>"null"</code>.</p>
<p>So we still have types in JavaScript, but the language may change types at runtime without telling anyone about it. As programmers, when we make mistakes in a weakly typed language, we often get incorrect results rather than errors.</p>
<h2 id="untyped-languages">Untyped Languages</h2>
<p>Some languages have little to no concept of types at all. In general, these languages are either very low-level or are mostly considered “toys”.</p>
<p>Assembly languages, for example, generally have only a vague notion of types, usually limited to the behavior of the CPU itself.</p>
<p>At the other end of the spectrum, <a href="https://en.wikipedia.org/wiki/Brainfuck">Brainfuck</a>, a “toy” language, has no concept of types beyond the fact that memory consists of integer bytes. In this case, it is entirely up to the programmer to give meaning to a given value stored in memory. For example, if a particular byte is used to store an ASCII character, then the programmer must remember not to assign it a value that is unused for ASCII encoding.</p>
<h2 id="strong-and-weak-typing">Strong and Weak Typing</h2>
<h2 id="static-and-dynamic-typing">Static and Dynamic Typing</h2>
<h2 id="type-inference">Type Inference</h2>
<h2 id="compound-types">Compound Types</h2>
<h2 id="interfaces">Interfaces</h2>
<h2 id="optional-typing">Optional Typing</h2>
<h2 id="top-and-bottom-types">Top and Bottom Types</h2>
<h2 id="structural-and-nominal-typing">Structural and Nominal Typing</h2>
<h2 id="generic-types">Generic Types</h2>
<h2 id="liskov-substitution-principle">Liskov Substitution Principle</h2>
<h2 id="type-relationships">Type Relationships</h2>

<div id="after">
    <a href="#">Back to top</a>
    <div id="after-links">
        <a href="../.." title="Course Home">Home</a> |
        <a href="https://github.com/glesica/software-reliability" title="Course GitHub Page">GitHub</a>
    </div>
</div>
</body>
</html>
